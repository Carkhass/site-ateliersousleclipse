---
import "../styles/global.css";
import BaseLayout from '../layouts/BaseLayout.astro';

/* On importe toutes les images du dossier src/assets/slider-section2 */
const images = import.meta.glob('../assets/slider-section2/*.{jpg,jpeg,png,webp}', { eager: true });
const imageList = Object.values(images).map((mod) => mod.default.src);
---

<BaseLayout title="Accueil">


<!-- ========================================================= -->
<!-- HERO -->
<!-- ========================================================= -->
<section 
  class="hero-section parallax-section hamon-hero relative w-screen h-[40vh] md:h-[40vh] flex items-center justify-center overflow-hidden" 
  data-parallax-speed="50"
  data-parallax-zoom="1"
  data-parallax-zoom-strength="0"
>
  <!-- Image de fond avec effet parallaxe -->
  <div class="absolute inset-0" data-parallax-target style="transform: translateY(0px) scale(1); will-change: transform;">
    <img src="/images/hero-hamon.png" alt="Ligne du hamon sur lame" class="w-full h-full object-cover" />
  </div>


  <!-- Contenu -->
  <div class="relative z-10 flex flex-col items-center justify-center h-full text-center text-white px-4">
    <!-- Titre avec halo + fade-in-up -->
    <h1 id="hero-title" class="hero-title-glow fade-in-up text-4xl text-white md:text-6xl font-serif mb-8 tracking-wide">
      L’art dans la lame
    </h1>

    <!-- Sous-titre avec animation lettre par lettre -->
    <p id="hero-subtitle" class="hero-subtitle text-lg md:text-xl text-accent font-bold max-w-none mx-auto opacity-0">
      La ligne du <em>hamon</em> reflète l’histoire de l’acier et l’intention de l’artisan.
    </p>
  </div>
</section>



<!-- ========================================================= -->
<!-- SECTION CENTRALE                                          -->
<!-- ========================================================= -->
<section class="container1 mx-auto px-4 py-16 grid md:grid-cols-2 gap-12 items-center">
  <div class="relative fade-slide-left">
    <img 
      src="/images/portrait-yann.jpg" 
      alt="Portrait de Yann, artisan coutelier"
      class="img-zoom max-w-md w-full h-auto rounded-lg shadow-xl object-cover border-4 border-accent mx-auto md:ml-auto"
      tabindex="0"
    />
  </div>
  <div class="fade-slide-left text-center md:text-left"">
    <h2 class="text-3xl md:text-4xl font-serif font-bold mb-6 text-accent reveal-child">
      Bienvenue à l’atelier sous l’éclipse
    </h2>
    <p class="text-lg text-muted leading-relaxed mb-4 reveal-child">
      Mon premier langage fut celui des ordinateurs et des infrastructures invisibles, un monde où la précision est une loi et la patience une vertu.<br />
      Aujourd'hui, je parle une autre langue : celle du métal et du bois.<br />
      Dans chaque barre d’acier, une promesse silencieuse.
    </p>
    <p class="text-lg text-muted leading-relaxed mb-6 italic reveal-child">
      Mes créations portent la mémoire du feu, du geste et de l’âme.
    </p>
    <a href="/me-connaitre" class="cta-premium inline-block px-6 py-3 text-white rounded reveal-child">
      En savoir plus
    </a>
  </div>
</section>


  <!-- ========================================================= -->
  <!-- SECTION POINÇON -->
  <!-- ========================================================= -->
  <section 
    class="parallax-section poincon-section relative w-screen h-[60vh] overflow-hidden" 
    data-parallax-speed="120"
    data-parallax-zoom="1"
    data-parallax-zoom-strength="0.2"
  >
    <div class="absolute inset-0" data-parallax-target style="transform: translateY(-23.48px) scale(1); will-change: transform;">
      <img src="/images/gros-plan-poincon.jpg" alt="Détail poinçon sur lame" class="w-full h-full object-cover" />
    </div>
 
  </section>



<!-- ========================================================= -->
<!-- SECTION COUTEAUX - THEME CUISINE -->
<!-- ========================================================= -->
<section class="section-couteaux theme-cuisine">
  <div class="section-2-grid mx-auto px-4 grid gap-12 items-center lg:grid-cols-[65%_35%]">

    <!-- Colonne 1 : Slider couteaux -->
    <div class="swiper my-knives-swiper fade-slide-left">
      <div class="swiper-wrapper">

        <!-- Slide : Nakiri -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-nakiri-large.png" alt="Nakiri" />
            </div>
            <figcaption>Nakiri</figcaption>
          </figure>
        </div>

        <!-- Slide : Petty -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-petty1-small.png" alt="Petty" />
            </div>
            <figcaption>Petty</figcaption>
          </figure>
        </div>

        <!-- Slide : Grand Bon'ap -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-grand-bonap6-large.png" alt="Grand Bon'ap" />
            </div>
            <figcaption>Grand Bon'ap</figcaption>
          </figure>
        </div>

        <!-- Slide : Santoku -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-santoku1-medium.png" alt="Santoku" />
            </div>
            <figcaption>Santoku</figcaption>
          </figure>
        </div>

        <!-- Slide : Lance à huîtres -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-lance1-small.png" alt="Lance à huîtres" />
            </div>
            <figcaption>Lance à huîtres</figcaption>
          </figure>
        </div>

        <!-- Slide : Long Bon'ap -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-long-bonap-xlarge.png" alt="Long Bon'ap" />
            </div>
            <figcaption>Long Bon'ap</figcaption>
          </figure>
        </div>

        <!-- Slide : Baby Bon'ap -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/cuisine/detoure-baby-bonap-small.png" alt="Baby Bon'ap" />
            </div>
            <figcaption>Baby Bon'ap</figcaption>
          </figure>
        </div>

      </div>

      <!-- Pagination interne -->
      <div class="swiper-pagination"></div>

      <!-- Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>

    <!-- Colonne 2 : Texte -->
    <div class="fade-slide-right w-3/4 mr-auto">    
      <h2 class="text-3xl md:text-4xl font-serif font-bold mb-6 text-accent reveal-child">
        En cuisine&nbsp;!
      </h2>
      <p class="text-lg text-muted leading-relaxed reveal-child">
        Je prends un plaisir particulier à façonner des couteaux de cuisine — la gourmandise, ça ne s'invente pas ! 
        Donc la plupart de mes créations se destinent aux arts de la table.
      </p>

      <p class="text-lg text-muted leading-relaxed reveal-child">
        Du tranchant précis d'un petty à la puissance d'un grand chef, chaque couteau est pensé pour devenir 
        le prolongement naturel de la main.
      </p>
    </div>

  </div>
</section>

<!-- ========================================================= -->
<!-- SECTION COUTEAUX - THEME TABLE -->
<!-- ========================================================= -->
<section class="section-couteaux theme-table bg-surface">
  <div class="section-2-grid slider-right mx-auto px-4 grid gap-12 items-center lg:grid-cols-[35%_65%]">

    <!-- Colonne 1 : Texte -->
    <div class="fade-slide-left text-right w-3/4 ml-auto"> 
      <h2 class="text-3xl md:text-4xl font-serif font-bold mb-6 text-accent reveal-child">
        À table&nbsp;!
      </h2>
      <p class="text-lg text-muted leading-relaxed reveal-child">
        Mariage de lignes épurées et de matériaux nobles, mes couteaux de table incarnent une vision 
        exigeante de l'art de recevoir... mais rassurez-vous, ils conviendront aussi parfaitement 
        aux repas du quotidien&nbsp;!
      </p>
    </div>

    <!-- Colonne 2 : Slider couteaux -->
    <div class="swiper my-knives-swiper fade-slide-right">
      <div class="swiper-wrapper">

        <!-- Slide : Table1 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/table/détouré-table-1.png" alt="Table ébène bicolore" />
            </div>
            <figcaption>Ebène bicolore</figcaption>
          </figure>
        </div>

        <!-- Slide : Table2 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/table/détouré-table-2.png" alt="Table wacapou" />
            </div>
            <figcaption>Wacapou</figcaption>
          </figure>
        </div>

        <!-- Slide : Table3 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/table/détouré-table-3.png" alt="Table Loupe peuplier" />
            </div>
            <figcaption>Loupe peuplier</figcaption>
          </figure>
        </div>

      </div>

      <!-- Pagination interne -->
      <div class="swiper-pagination"></div>

      <!-- Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>

  </div>
</section>

<!-- ========================================================= -->
<!-- SECTION COUTEAUX - THEME OUTDOOR -->
<!-- ========================================================= -->
<section class="section-couteaux theme-outdoor">
  <div class="section-2-grid mx-auto px-4 grid gap-12 items-center lg:grid-cols-[65%_35%]">

    <!-- Colonne 1 : Slider couteaux -->
    <div class="swiper my-knives-swiper fade-slide-left">
      <div class="swiper-wrapper">

        <!-- Slide : Outdoor 1 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/outdoor/camp1.png" alt="Camp Manguier ondé stabilisé" />
            </div>
            <figcaption>Manguier ondé</figcaption>
          </figure>
        </div>

        <!-- Slide : Outdoor 2 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/outdoor/camp3.png" alt="Camp morta stabilisé" />
            </div>
            <figcaption>Morta stab</figcaption>
          </figure>
        </div>

        <!-- Slide : Outdoor 3 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/outdoor/camp4.png" alt="Camp ébène" />
            </div>
            <figcaption>Ebène noir</figcaption>
          </figure>
        </div>

        <!-- Slide : Outdoor 4 -->
        <div class="swiper-slide">
          <figure>
            <div class="knife-image">
              <img src="/images/outdoor/fighter.png" alt="Fighter Koa" />
            </div>
            <figcaption>Fighter Koa</figcaption>
          </figure>
        </div>

      </div>

      <!-- Pagination interne -->
      <div class="swiper-pagination"></div>

      <!-- Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>

    <!-- Colonne 2 : Texte -->
    <div class="fade-slide-right w-3/4 mr-auto"> 
      <h2 class="text-3xl md:text-4xl font-serif font-bold mb-6 text-accent reveal-child">
        En plein air&nbsp;!
      </h2>
      <p class="text-lg text-muted leading-relaxed reveal-child">
        Et si vous avez l'esprit d'aventure, que vous aimez les grands espaces, l'odeur des forêts 
        et les sentiers reculés... L'Atelier a quelques compagnons fiables à vous proposer.
      </p>      
      <p class="text-lg text-muted leading-relaxed reveal-child">
        Aciers robustes sélectionnés pour leurs caractéristiques techniques, tranchant robuste pour 
        passer de la coupe fine à l'ouvrage le plus exigeant, mais toujours avec l'empreinte unique de l'atelier.
      </p>

      </p>
    </div>

  </div>
</section>


<!-- ========================================================= -->
<!-- SECTION 3 : Inspiration + Galerie hamon (Embla Carousel)  -->
<!-- ========================================================= -->
<section class="w-full max-w-none bg-surface py-16 inspiration-section">

  <!-- 📝 TEXTE -->
  <div class="max-w-6xl mx-auto px-4 space-y-6 text-center fade-slide-up">
    <h2 class="text-3xl md:text-4xl font-serif font-bold text-accent reveal-child">
      Inspiration
    </h2>
    <p class="text-lg text-muted leading-relaxed reveal-child">
      L’esthétique japonaise, sobre et naturelle, m’inspire profondément. 
      J’aime travailler des matières authentiques pour les manches : textures brutes, couleurs organiques.
    </p>
    <p class="text-lg text-muted leading-relaxed reveal-child">
      Sur beaucoup de mes créations, vous remarquerez une “ligne” sur la lame : le <em>hamon</em>. 
      Parfois fluide, parfois indomptée, c’est la signature laissée par la trempe sélective — 
      un savoir-faire ancestral japonais. Chaque hamon est unique, fruit de l’acier, du feu et du geste.
    </p>
  </div>

  <!-- 🎠 CAROUSEL -->
  <div class="fade-slide-up mt-10">
    <div class="embla mx-auto">
      <div class="embla__viewport">
        <div class="embla__container">
          {[
            "hamon-1",
            "hamon-2",
            "hamon-3",
            "hamon-4",
            "hamon-5",
            "hamon-6"
          ].map(name => (
            <div class="embla__slide" key={name}>
              <div class="embla__parallax">
                <div class="embla__parallax__layer">
                  <img 
                    src={`/images/slider/${name}.webp`} 
                    alt={`Détail du couteau - ${name}`} 
                    class="embla__parallax__img" 
                    loading="lazy"
                  />
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Contrôles Embla -->
      <div class="embla__controls mt-4 flex items-center justify-between">
        <div class="embla__buttons flex gap-2">
          <button class="embla__button embla__button--prev" type="button" aria-label="Précédent">‹</button>
          <button class="embla__button embla__button--next" type="button" aria-label="Suivant">›</button>
        </div>
        <div class="embla__dots flex gap-2"></div>
      </div>
    </div>
  </div>

</section>


<!-- ========================================================= -->
<!-- BLOC PREMIUM FINAL AVEC IMAGE, CITATION, ANIMATIONS & CARTE 3D -->
<!-- ========================================================= -->
<section class="parallax-section premium-section relative w-full h-[80vh] flex items-center justify-center text-center text-white overflow-hidden"
  data-parallax-speed="120"
  data-parallax-zoom="1.05"
  data-parallax-zoom-strength="0.2">

  <!-- Calque parallaxe : uniquement l'image -->
  <div class="absolute inset-0" data-parallax-target>
    <img 
      src="/images/packaging-ateliersousleclipse.jpg"
      alt="Emballage artisanal d’un couteau"
      class="w-full h-full object-cover object-center"
    />
  </div>

  <!-- Overlay sombre -->
  <div class="absolute inset-0 bg-black/45 backdrop-blur-[2px]"></div>

  <!-- Contenu interactif (hors calque transformé) -->
  <div class="relative z-10 px-4 max-w-6xl w-full space-y-6">
    <p class="text-xl md:text-2xl font-serif italic fade-slide-up">
      « Chaque lame raconte une histoire… écrivons la vôtre. »
    </p>

    <div class="flex flex-wrap md:flex-row gap-3 justify-center fade-slide-up delay-150">
      <a href="/me-connaitre" class="cta-premium px-5 py-2.5 text-white rounded text-sm">Me connaître</a>
      <a href="/galerie" class="cta-premium px-5 py-2.5 text-white rounded text-sm">Voir la galerie</a>
    </div>

    <div class="flex flex-col md:flex-row gap-3 justify-center items-center mt-4">
      <!-- Carte 3D -->
      <div class="card-3d-wrapper fade-slide-up delay-300">
        <div class="card-3d">
          <div class="card-face card-front">
            <img src="/images/carte-visite-ateliersousleclipse-recto.jpg" alt="Carte recto" />
            <div class="card-glow fade-slide-up" aria-hidden="true"></div>
          </div>
          <div class="card-face card-back">
            <img src="/images/carte-visite-ateliersousleclipse-verso.jpg" alt="Carte verso" />
          </div>
        </div>
      </div>

      <!-- Formulaire -->
      <form action="/contact" method="POST" class="bg-black/30 p-4 rounded-lg space-y-3 w-full max-w-xs md:max-w-md fade-slide-up delay-450">
        <div class="space-y-3">
          <input type="text" name="nom" placeholder="Votre nom" class="w-full p-2.5 rounded bg-white/90 text-black text-sm" required>
          <input type="email" name="email" placeholder="Votre email" class="w-full p-2.5 rounded bg-white/90 text-black text-sm" required>
          <textarea name="message" rows="3" placeholder="Votre message..." class="w-full p-2.5 rounded bg-white/90 text-black text-sm" required></textarea>
        </div>
        <button type="submit" class="cta-premium w-full px-5 py-2.5 rounded text-white text-sm">Envoyer</button>
      </form>
    </div>
  </div>
</section>




</BaseLayout